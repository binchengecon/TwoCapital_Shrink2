#! /bin/bash

# actiontime=1
# action_name="2jump_step0.05verify_smartwithintstep0.2_Linear"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)
# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="LinearNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0





# actiontime=2
# action_name="2jump_step0.05verify_smartwithintstep0.1_Linear"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)


# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.1 0.1 0.1)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step01verify_new"
# fstr_SG="LinearNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0





# actiontime=3
# action_name="2jump_step0.05verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)


# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=4
# action_name="2jump_step0.05verify_smartwithintstep0.1_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)

# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.1 0.1 0.1)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step01verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0





# actiontime=5
# action_name="2jump_step0.05verify_smartwithintstep0.2_Linear_Test"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(10 10)
# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="LinearNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0





# actiontime=6
# action_name="2jump_step0.05verify_smartwithintstep0.1_Linear_Test"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(10 10)


# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.1 0.1 0.1)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step01verify_new"
# fstr_SG="LinearNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0





# actiontime=7
# action_name="2jump_step0.05verify_smartwithintstep0.2_Near_Test"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(10 10)


# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

# actiontime=8
# action_name="2jump_step0.05verify_smartwithintstep0.1_Near_Test"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(10 10)

# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.1 0.1 0.1)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step01verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0




# actiontime=20
# action_name="2jump_step0.10.10.05verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)


# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=21
# action_name="2jump_step0.10.10.01verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)


# hXarr=(0.1 0.1 0.01)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=22
# action_name="2jump_step0.10.050.1verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)


# hXarr=(0.1 0.05 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=22
# action_name="2jump_step0.10.010.1verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)


# hXarr=(0.1 0.01 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

# actiontime=23
# action_name="2jump_step0.010.10.1verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 80000)


# hXarr=(0.01 0.1 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

























# We need to stabilize the computing process for asymmetric step size,
# change epsilon from 0.005 to 0.001
# However, I'm still concerned a little bit with 0.001 since
# with no smart guess and 0.001, the result is still volatile.
# But the good news is that, previously with smart guess and 0.005,
# the result still looks great conerging to 1e-6.
# Therefore, generally, the result should be fine with current two improvement.
# And I reviewed previous computation process for hX 0.1 0.1 0.1
# It seems that epsilon is merely 0.01?????
# So the rate can't be too large and too small?


# Let's configure the best rate for the moment.
# 0.01 doesn't work

# actiontime=40
# action_name="2jump_step_0.1_0.1_0.05_configure_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.01)
# fractionarr=(0.1 0.01)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=41
# action_name="2jump_step_0.1_0.05_0.1_configure_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.01)
# fractionarr=(0.1 0.01)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.05 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=42
# action_name="2jump_step_0.05_0.1_0.1_configure_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1



# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.01)
# fractionarr=(0.1 0.01)

# maxiterarr=(20000 40000)
# hXarr=(0.05 0.1 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

























# doesn't work

# actiontime=50
# action_name="2jump_step_0.1_0.1_0.05_configure_0.008_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.008)
# fractionarr=(0.1 0.008)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=51
# action_name="2jump_step_0.1_0.05_0.1_configure_0.008_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.008)
# fractionarr=(0.1 0.008)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.05 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=52
# action_name="2jump_step_0.05_0.1_0.1_configure_0.008_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1



# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.008)
# fractionarr=(0.1 0.008)

# maxiterarr=(20000 40000)
# hXarr=(0.05 0.1 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0




# actiontime=50
# action_name="2jump_step_0.1_0.1_0.05_configure_0.008_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.008)
# fractionarr=(0.1 0.008)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=51
# action_name="2jump_step_0.1_0.05_0.1_configure_0.008_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.008)
# fractionarr=(0.1 0.008)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.05 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=52
# action_name="2jump_step_0.05_0.1_0.1_configure_0.008_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1



# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 0.008)
# fractionarr=(0.1 0.008)

# maxiterarr=(20000 40000)
# hXarr=(0.05 0.1 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# Doesn't work as well. The convergence is not stable.
# But review what happened for 0.005, it takes 30000 iteration to finally step on a stable path.
# So it's normal that the convergence is not stable for 20000 iteratiosn.

# IDEA: try varying learning rate.

# epsilonsize=0.003

# actiontime=60
# action_name="2jump_step_0.1_0.1_0.05_configure_${epsilonsize}_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 $epsilonsize)
# fractionarr=(0.1 $epsilonsize)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=61
# action_name="2jump_step_0.1_0.05_0.1_configure_${epsilonsize}_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 $epsilonsize)
# fractionarr=(0.1 $epsilonsize)

# maxiterarr=(20000 40000)
# hXarr=(0.1 0.05 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

# actiontime=62
# action_name="2jump_step_0.05_0.1_0.1_configure_${epsilonsize}_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"


# # NUM_DAMAGE=3
# NUM_DAMAGE=1

# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))

# # epsilonarr=(0.1 0.01)
# # fractionarr=(0.1 0.001)
# epsilonarr=(0.1 $epsilonsize)
# fractionarr=(0.1 $epsilonsize)

# maxiterarr=(20000 40000)
# hXarr=(0.05 0.1 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)
# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"
# xi_a=(1000.)
# xi_p=(1000.)

# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)

# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0











# actiontime=41
# action_name="2jump_step_0.1_0.1_0.01_verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.001)
# fractionarr=(0.1 0.001)
# maxiterarr=(40000 80000)


# hXarr=(0.1 0.1 0.01)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0




# actiontime=42
# action_name="2jump_step_0.1_0.05_0.1_verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.001)
# fractionarr=(0.1 0.001)
# maxiterarr=(40000 80000)


# hXarr=(0.1 0.05 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=43
# action_name="2jump_step_0.1_0.01_0.1_verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.001)
# fractionarr=(0.1 0.001)
# maxiterarr=(40000 80000)


# hXarr=(0.1 0.01 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=44
# action_name="2jump_step_0.05_0.1_0.1_verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.001)
# fractionarr=(0.1 0.001)
# maxiterarr=(40000 80000)


# hXarr=(0.05 0.1 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=45
# action_name="2jump_step_0.01_0.1_0.1_verify_smartwithintstep0.2_Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.001)
# fractionarr=(0.1 0.001)
# maxiterarr=(40000 80000)


# hXarr=(0.01 0.1 0.1)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



















# actiontime=70
# action_name="2jump_step_0.05_0.05_0.05_LR_0.005_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 100000)


# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

# actiontime=71
# action_name="2jump_step_0.05_0.05_0.05_LR_0.001_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.001)
# fractionarr=(0.1 0.001)
# maxiterarr=(40000 100000)


# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0



# actiontime=72
# action_name="2jump_step_0.05_0.05_0.05_LR_0.005"
# python_name="postdamage_2jump.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(60000 100000)
# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"


# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

# actiontime=73
# action_name="2jump_step_0.05_0.05_0.05_LR_0.001"
# python_name="postdamage_2jump.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.001)
# fractionarr=(0.1 0.001)
# maxiterarr=(60000 100000)
# hXarr=(0.05 0.05 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"


# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# actiontime=74
# action_name="2jump_step_0.2_0.2_0.2_LR_0.005"
# python_name="postdamage_2jump.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(60000 100000)
# hXarr=(0.2 0.2 0.2)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"



# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0




# actiontime=75
# action_name="2jump_step_0.1_0.1_0.05_LR_0.005_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 0.005)
# fractionarr=(0.1 0.005)
# maxiterarr=(40000 100000)


# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# epsilon=0.003

# actiontime=76
# action_name="2jump_step_0.1_0.1_0.05_LR_${epsilon}"
# python_name="postdamage_2jump.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 ${epsilon})
# fractionarr=(0.1 ${epsilon})
# maxiterarr=(60000 100000)
# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"


# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# epsilon=0.005

# actiontime=77
# action_name="2jump_step_0.1_0.1_0.05_LR_${epsilon}"
# python_name="postdamage_2jump.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 ${epsilon})
# fractionarr=(0.1 ${epsilon})
# maxiterarr=(60000 100000)
# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"


# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# epsilon=0.007

# actiontime=78
# action_name="2jump_step_0.1_0.1_0.05_LR_${epsilon}"
# python_name="postdamage_2jump.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 ${epsilon})
# fractionarr=(0.1 ${epsilon})
# maxiterarr=(60000 100000)
# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"


# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0

# epsilon=0.007

# actiontime=79
# action_name="2jump_step_0.1_0.1_0.05_LR_${epsilon}_step0.2Near"
# python_name="postdamage_2jump_interp_SG.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 ${epsilon})
# fractionarr=(0.1 ${epsilon})
# maxiterarr=(40000 100000)


# hXarr=(0.1 0.1 0.05)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"

# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0


# epsilon=0.01
# epsilon=0.1, 0.05, 0.01

# actiontime=80
# action_name="2jump_step_0.2_0.2_0.2_LR_${epsilon}"
# python_name="postdamage_2jump.py"
# NUM_DAMAGE=3
# ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
# epsilonarr=(0.1 ${epsilon})
# fractionarr=(0.1 ${epsilon})
# maxiterarr=(60000 100000)
# hXarr=(0.2 0.2 0.2)
# Xminarr=(4.00 0.0 -5.5 0.0)
# Xmaxarr=(9.00 4.0 0.0 3.0)

# hXarr_SG=(0.2 0.2 0.2)
# Xminarr_SG=(4.00 0.0 -5.5 0.0)
# Xmaxarr_SG=(9.00 4.0 0.0 3.0)
# interp_action_name="2jump_step02verify_new"
# fstr_SG="NearestNDInterpolator"



# xi_a=(1000.)
# xi_p=(1000.)
# # psi0arr=(0.008 0.010 0.012)
# psi0arr=(0.008)
# psi1arr=(0.8)
# LENGTH_xi=$((${#xi_a[@]}-1))
# count=0




epsilon=0.005

actiontime=90
action_name="2jump_step_0.1_0.1_0.05_LR_${epsilon}"
python_name="postdamage_2jump_exp_MIKE.py"
NUM_DAMAGE=3
ID_MAX_DAMAGE=$((NUM_DAMAGE-1))
epsilonarr=(0.1 ${epsilon})
fractionarr=(0.1 ${epsilon})
maxiterarr=(60000 100000)
hXarr=(0.1 0.1 0.05)
Xminarr=(4.00 0.0 -5.5 0.0)
Xmaxarr=(9.00 4.0 0.0 3.0)

hXarr_SG=(0.2 0.2 0.2)
Xminarr_SG=(4.00 0.0 -5.5 0.0)
Xmaxarr_SG=(9.00 4.0 0.0 3.0)
interp_action_name="2jump_step02verify_new"
fstr_SG="NearestNDInterpolator"


xi_a=(1000.)
xi_p=(1000.)
# psi0arr=(0.008 0.010 0.012)
psi0arr=(0.008)
psi1arr=(0.8)
LENGTH_xi=$((${#xi_a[@]}-1))
count=0


for i in $(seq 0 $ID_MAX_DAMAGE)
do
	for PSI_0 in ${psi0arr[@]}
	do
		for PSI_1 in ${psi1arr[@]}
		do 
		for j in $(seq 0 $LENGTH_xi)
		do

		mkdir -p ./job-outs/${action_name}/xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}/

		if [ -f ./bash/${action_name}/mercury_xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}_ID_${i}.sh ]
		then
				rm ./bash/${action_name}/mercury_xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}_ID_${i}.sh
		fi

        mkdir -p ./bash/${action_name}/

		touch ./bash/${action_name}/mercury_xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}_ID_${i}.sh
		
		tee -a ./bash/${action_name}/mercury_xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}_ID_${i}.sh << EOF
#! /bin/bash


######## login 
#SBATCH --job-name=post${actiontime}_$count
#SBATCH --output=./job-outs/${action_name}/xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}/mercury_post_$i.out
#SBATCH --error=./job-outs/${action_name}/xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}/mercury_post_$i.err


#SBATCH --account=pi-lhansen
#SBATCH --partition=standard
#SBATCH --cpus-per-task=4
#SBATCH --mem=16G
#SBATCH --time=7-00:00:00

####### load modules
module load python/booth/3.8/3.8.5  gcc/9.2.0

echo "\$SLURM_JOB_NAME"

echo "Program starts \$(date)"

python3 /home/bcheng4/TwoCapital_Shrink/abatement/$python_name --num_gamma $NUM_DAMAGE --xi_a ${xi_a[$j]} --xi_g ${xi_p[$j]}  --epsilonarr ${epsilonarr[@]}  --fractionarr ${fractionarr[@]}   --maxiterarr ${maxiterarr[@]}  --id $i --psi_0 $PSI_0 --psi_1 $PSI_1 --name ${action_name} --hXarr ${hXarr[@]} --Xminarr ${Xminarr[@]} --Xmaxarr ${Xmaxarr[@]} --hXarr_SG ${hXarr_SG[@]} --Xminarr_SG ${Xminarr_SG[@]} --Xmaxarr_SG ${Xmaxarr_SG[@]} --fstr_SG ${fstr_SG} --interp_action_name ${interp_action_name}

echo "Program ends \$(date)"

EOF
count=$(($count+1))
		done
		done
	done
done




for i in $(seq 0 $ID_MAX_DAMAGE)
do
	for PSI_0 in ${psi0arr[@]}
	do
		for PSI_1 in ${psi1arr[@]}
		do 
		for j in $(seq 0 $LENGTH_xi)
		do
		sbatch ./bash/${action_name}/mercury_xia_${xi_a[$j]}_xip_${xi_p[$j]}_PSI0_${PSI_0}_PSI1_${PSI_1}_ID_${i}.sh 

		done
		done
	done
done










